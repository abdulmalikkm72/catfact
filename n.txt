import React, { useEffect, useState } from 'react'
import { useParams } from 'react-router-dom';
import Button from 'react-bootstrap/Button';

import Container from 'react-bootstrap/Container';
import Row from 'react-bootstrap/Row';
import Col from 'react-bootstrap/Col';

function ViewProducts() {
    // api fetching
    // const params = useParams()
    // console.log(params);//{id: '1'}
    const {id} = useParams()
    console.log(id);
    //2 Define base url
    const baseUrl = `https://dummyjson.com/products/${id}`
    // Create a state for holding viewproduct object
        const [viewproduct,setViewProduct]=useState({})
        // 2 Define function for API Fetching
        const fetchData=async()=>{
            const response= await fetch(baseUrl)
            console.log(response);
            const res=await response.json()
            console.log(res);
            setViewProduct(res)
        }
        console.log(viewproduct);
        
        //3 Create UseEffect
        useEffect(()=>{
            fetchData()
        },[])
  return (
    // <div className='bg-success'>
    //   <div className="row mx-3">
    //     <div className="col-4 border border-black my-3 bg-light">
    //         <img src={viewproduct.thumbnail} alt="" width={'500px'} />
    //     </div>
    //     <div className="col-6  text-center border border-black my-3 bg-light">
    //         <h1 className=''>{viewproduct.title}</h1>
    //         <h3 className='text-center text-primary'>${viewproduct.price}</h3>
    //         <h3 className='text-center '>stock:{viewproduct.stock}</h3>
    //     </div>
    //   </div>
    // </div>
    <Container className="my-5">
      <Row className="justify-content-center align-items-center">
        {/* Image Section */}
        <Col md={6} className="text-center mb-4">
          <img
            src={viewproduct.thumbnail}
            alt={viewproduct.title}
            className="img-fluid rounded shadow"
            style={{ maxHeight: '400px', objectFit: 'cover' }}
          />
        </Col>

        {/* Details Section */}
        <Col md={6}>
          <h2 className="text-success mb-3">{viewproduct.title}</h2>
          <p className="lead">{viewproduct.description}</p>
          <h4 className="text-success">Price: ${viewproduct.price}</h4>
          <p className="text-muted">In stock: {viewproduct.stock}</p>
          <Button variant="success">Buy Now</Button>
        </Col>
      </Row>
    </Container>
  )
}

export default ViewProducts
